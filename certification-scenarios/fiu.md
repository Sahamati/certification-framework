---
description: Sahamati certification Test Scenarios for Financial Information User
---

# FIU

| Scenario ID | Feature Under Test | Description | Expected Result |
| :--- | :--- | :--- | :--- |
| 1001 | POST /Consent API of AA | Verify that FIU makes valid POST /Consent request to AA | The request body coming from FIU in request should adhere to Spec |
| 1002 | GET /Consent/{consenHandle} API of AA | Verify that FIU makes valid GET /Consent/{consenHandle} request to AA | The consent handle in the api should match with the consent handle provided by AA |
| 1003 | GET /Consent/{id} API of AA | Verify that FIU makes valid GET /Consent/{id} request to AA | The consent id in the api should match with the consent id provided by AA |
| 1004 | POST /Consent/Notification API | Verify that on making valid POST /Consent/Notification to FIU success response is recevied | Http status code should be 200 |
| 1005 | POST /Consent/Notification API with Alternate AA id | Verify that on making valid POST /Consent/Notification with alternate AA id  error response is received | Http status code should be 400  Error code should be InvalidNotifier |
| 1006 | POST /Consent/Notification API with FIP in notifier type | Verify that on making valid POST /Consent/Notification with FIP in notifier type error response is received | Http status code should be 400  Error code should be InvalidNotifier |
| 1007 | POST /Consent/Notification API with invalid consent Id | Verify that on making valid POST /Consent/Notification with Invalid consent id error response is received | Http status code should be 400  Error code should be InvalidConsentId |
| 1008 | POST /Consent/Notification API with invalid consent handle | Verify that on making valid POST /Consent/Notification with Invalid consent handle error response is received | Http status code should be 400  Error code should be InvalidRequest |
| 1009 | POST /Consent/Notification API with invalid schematic value for each field | Verify on making valid request to POST /Consent/Notification API  with schematic error for one field each subcase error response is received. | Http status code should be 400  Error code should be InvalidRequest |
| 1010 | POST /Consent/Notification API with incorrect timestamp value | Verify on making valid request to POST /Consent/Notification API  with 15min variation in timestamp field error response is received. | Http status code should be 400  Error code should be InvalidRequest |
| 1011 | Response handling of POST /Consent API of AA | Verify on responding to POST /Consent API with schematic error for one field each subcase the response is discarded by FIU and to validate that verify on sending valid POST /Consent/Notification and check error response is received. | Http status code should be 400  Error code should be InvalidRequest |
| 1012 | Response handling of GET /Consent/handle/{handle} API of AA | Verify on responding to GET /Consent/handle/{handle} API with schematic error for one field each subcase the response is discarded by FIU and to validate that check with FIU spoc the response is discarded. |  |
| 1013 | POST /Consent/Notification API with invalid ver | Verify that on making valid POST /Consent/Notification with Invalid ver error response is received | Http status code should be 404  Error code should be NoSuchVersion |
| 1014 | POST /Consent/Notification API with invalid timestamp | Verify that on making valid POST /Consent/Notification with Invalid timestamp error response is received | Http status code should be 400  Error code should be InvalidRequest |
| 1015 | POST /Consent/Notification API with consent details of alternate AA | Verify that on making valid POST /Consent/Notification with consent details of alternate AA timestamp error response is received | Http status code should be 400  Error code should be InvalidRequest |
| 1016 | POST /Consent/Notification API with PAUSED status | Verify that on making valid POST /Consent/Notification with PAUSED status, user is not able to make FI request |  |
| 1017 | POST /Consent/Notification API with EXPIRED status | Verify that on making valid POST /Consent/Notification with EXPIRED status, user is not able to make FI request |  |
| 1018 | POST /Consent/Notification API with REVOKED status | Verify that on making valid POST /Consent/Notification with REVOKED status, user is not able to make FI request |  |
| 1019 | Response handling of POST /Consent API of AA | Verify on responding to POST /Consent API with invalid ver the response is discarded by FIU and to validate that verify on sending valid POST /Consent/Notification and check error response is received. | Http status code should be 400  Error code should be InvalidRequest |
| 1020 | Response handling of POST /Consent API of AA | Verify on responding to POST /Consent API with invalid timestamp the response is discarded by FIU and to validate that verify on sending valid POST /Consent/Notification and check error response is received. | Http status code should be 400  Error code should be InvalidRequest |
| 1021 | Response handling of POST /Consent API of AA | Verify on responding to POST /Consent API with txnid not same as txnid in request the response is discarded by FIU and to validate that verify on sending valid POST /Consent/Notification and check error response is received. | Http status code should be 400  Error code should be InvalidRequest |
| 1022 | Response handling of POST /Consent API of AA | Verify on responding to POST /Consent API with customer id not same as customer id in request the response is discarded by FIU and to validate that verify on sending valid POST /Consent/Notification and check error response is received. | Http status code should be 400  Error code should be InvalidRequest |
| 1023 | Response handling of POST /Consent API of AA | Verify on responding to POST /Consent API with invalid JWS signature the response is discarded by FIU and to validate that verify on sending valid POST /Consent/Notification and check error response is received. | Http status code should be 400  Error code should be InvalidRequest |
| 1024 | Response handling of GET /Consent/handle/{handle} API of AA | Verify on responding to GET /Consent/handle/{handle} API with invalid ver the response is discarded by FIU and to validate that check with FIU spoc the response is discarded. |  |
| 1025 | Response handling of GET /Consent/handle/{handle} API of AA | Verify on responding to GET /Consent/handle/{handle} API with invalid timestamp the response is discarded by FIU and to validate that check with FIU spoc the response is discarded. |  |
| 1026 | Response handling of GET /Consent/handle/{handle} API of AA | Verify on responding to GET /Consent/handle/{handle} API with invalid consentHandle the response is discarded by FIU and to validate that check with FIU spoc the response is discarded. |  |
| 1028 | Response handling of GET /Consent/handle/{handle} API of AA | Verify on responding to GET /Consent/handle/{handle} API with consentStatus as FAILED the consent is considered failed by FIU and to validate that verify on sending valid POST /Consent/Notification and check error response is received. | Http status code should be 400  Error code should be InvalidRequest or InvalidConsentId |
| 1029 | Response handling of GET /Consent/handle/{handle} API of AA | Verify on responding to GET /Consent/handle/{handle} API with consentStatus as PENDING the consent is considered PENDING by FIU and to validate that verify on sending valid POST /Consent/Notification and check success response is received. | Http Status code should be 200 |
| 1030 | Response handling of GET /Consent/handle/{handle} API of AA | Verify on responding to GET /Consent/handle/{handle} API with invalid JWS Signature the response is discarded by FIU and to validate that check with FIU spoc the response is discarded. |  |
| 1031 | Response handling of GET /Consent/{id} API of AA | Verify on responding to GET /Consent/{id} API with invalid ver the response is discarded by FIU and to validate that check with FIU spoc if FIU notify about consent generation failure |  |
| 1032 | Response handling of GET /Consent/{id} API of AA | Verify on responding to GET /Consent/{id} API with invalid timestamp the response is discarded by FIU and to validate that check with FIU spoc  if FIU notify about consent generation failure. |  |
| 1033 | Response handling of GET /Consent/{id} API of AA | Verify on responding to GET /Consent/{id} API with invalid consentID the response is discarded by FIU and to validate that check with FIU spoc  if FIU notify about consent generation failure. |  |
| 1034 | Response handling of GET /Consent/{id} API of AA | Verify on responding to GET /Consent/{id} API with PAUSED status, user is not able to make FI request |  |
| 1035 | Response handling of GET /Consent/{id} API of AA | Verify on responding to GET /Consent/{id} API with REVOKED status, user is not able to make FI request |  |
| 1036 | POST /Consent/Notification API with invalid JWS signature | Verify that on making valid POST /Consent/Notification with Invalid JWS Signature error response is received | Http status code should be 400  Error code should be SignatureDoesNotMatch |
| 1037 | Response handling of GET /Consent/{id} API of AA | Verify on responding to GET /Consent/{id} API with invalid createTimestamp the response is discarded by FIU and to validate that check with FIU spoc  if FIU notify about consent generation failure. |  |
| 1038 | Response handling of GET /Consent/{id} API of AA | Verify on responding to GET /Consent/{id} API with invalid signedConsent the response is discarded by FIU and to validate that check with FIU spoc  if FIU notify about consent generation failure. |  |
| 1039 | Response handling of GET /Consent/{id} API of AA | Verify on responding to GET /Consent/{id} API with invalid consentUse the response is discarded by FIU and to validate that check with FIU spoc  if FIU notify about consent generation failure. |  |
| 1040 | Response handling of GET /Consent/{id} API of AA | Verify on responding to GET /Consent/{id} API with signedConsent generated using alternate AA private key the response is discarded by FIU and to validate that check with FIU spoc  if FIU notify about consent generation failure. |  |
| 1041 | Response handling of GET /Consent/{id} API of AA | Verify on responding to GET /Consent/{id} API with invalid JWS Signature the response is discarded by FIU and to validate that check with FIU spoc  if FIU notify about consent generation failure. |  |
| 1042 | POST /Consent/Notification API with invalid API key | Verify that on making valid POST /Consent/Notification with Invalid API key error response is received | Http status code should be 401 |
| 1043 | POST /Consent/Notification API with alternate AA API key | Verify that on making valid POST /Consent/Notification with Alternate AA API key error response is received | Http status code should be 400  Error code should be InvalidRequest |
| 2001 | POST /FI/request API of AA | Verify that FIU makes valid POST /FI/request request to AA | The request body coming from FIU in request should adhere to Spec |
| 2002 | POST /FI/Notification API | Verify that on making valid POST /FI/Notification to FIU success response is recevied | Http status code should be 200 |
| 2003 | POST /FI/Notification API with invalid ver | Verify that on making valid POST /FI/Notification with Invalid ver error response is received | Http status code should be 404  Error code should be NoSuchVersion |
| 2004 | POST /FI/Notification API with invalid session id | Verify that on making valid POST /FI/Notification with Invalid session id error response is received | Http status code should be 400  Error code should be InvalidSessionId |
| 2005 | POST /FI/Notification API with alternate AA id in notifier id | Verify that on making valid POST /FI/Notification with alternate AA id error response is received | Http status code should be 400  Error code should be InvalidRequest |
| 2006 | POST /FI/Notification API with invalid schematic value for each field | Verify on making valid request to POST /FI/Notification API  with schematic error for one field each subcase error response is received. | Http status code should be 400  Error code should be InvalidRequest |
| 2007 | POST /FI/Notification API with invalid txnid id | Verify that on making valid POST /FI/Notification with invalid txn id error response is received | Http status code should be 400  Error code should be InvalidRequest |
| 2008 | POST /FI/Notification API with invalid timestamp | Verify that on making valid POST /FI/Notification with invalid timestamp error response is received | Http status code should be 400  Error code should be InvalidRequest |
| 2009 | POST /FI/Notification API with selected details of alternate AA | Verify that on making valid POST /FI/Notification with selected details of alternate AA error response is received | Http status codes should be 400   case 1: Different AA id in notifier Id  Error code:InvalidRequest   case 2: Session id generated for different AA  Error code: invalidSessionId   case 3:Account details of different AA  error code :InvalidRequest |
| 2010 | GET /FI/fetch/{sessionId} API of AA | Verify that FIU makes valid GET /FI/fetch/{sessionid} request to AA | The request body coming from FIU in request should adhere to Spec |
| 2011 | POST /FI/Notification API with FIStatusNotification.sessionStatus as EXPIRED | Verify that on making valid POST /FI/Notification with FIStatusNotification.sessionStatus as EXPIRED, FIU Spoc is not able to make FI/fetch |  |
| 2012 | POST /FI/Notification API with invalid notifier type | Verify that on making valid POST /FI/Notification with invalid notifier type error response is received | Http status code should be 400  Error code should be InvalidRequest |
| 2015 | POST /FI/Notification API with FIStatusNotification.sessionStatus as FAILED | Verify that on making valid POST /FI/Notification with FIStatusNotification.sessionStatus as EXPIRED, check with FIU Spoc that no FI/fetch is be processed |  |
| 2016 | Response handling of POST /FI/request API of AA | Verify on responding to POST /FI/request API with schematic error for one field each subcase the response is discarded by FIU and to validate that verify on sending valid POST /FI/Notification and check error response is received. | Http status code should be 400  Error code should be InvalidSessionID |
| 2017 | Response handling of POST /FI/request API of AA | Verify on responding to POST /FI/request API with invalid ver the response is discarded by FIU and to validate that verify on sending valid POST /FI/Notification and check error response is received. | Http status code should be 400  Error code should be InvalidSessionID |
| 2018 | Response handling of POST /FI/request API of AA | Verify on responding to POST /FI/request API with invalid timestamp the response is discarded by FIU and to validate that verify on sending valid POST /FI/Notification and check error response is received. | Http status code should be 400  Error code should be InvalidSessionID |
| 2019 | Response handling of POST /FI/request API of AA | Verify on responding to POST /FI/request API with invalid txnid the response is discarded by FIU and to validate that verify on sending valid POST /FI/Notification and check error response is received. | Http status code should be 400  Error code should be InvalidSessionID |
| 2020 | Response handling of POST /FI/request API of AA | Verify on responding to POST /FI/request API with invalid consentId the response is discarded by FIU and to validate that verify on sending valid POST /FI/Notification and check error response is received. | Http status code should be 400  Error code should be InvalidSessionID |
| 2021 | Response handling of POST /FI/request API of AA | Verify on responding to POST /FI/request API with invalid JWS Siganture the response is discarded by FIU and to validate that verify on sending valid POST /FI/Notification and check error response is received. | Http status code should be 400  Error code should be InvalidSessionID |
| 2022 | Response handling of GET /FI/fetch/{sessionId} API of AA | Verify on responding to GET /FI/fetch/{sessionId} API with invalid ver the response is discarded by FIU and to validate that check with FIU spoc  if FIU notify about data fetch failure. |  |
| 2023 | Response handling of GET /FI/fetch/{sessionId} API of AA | Verify on responding to GET /FI/fetch/{sessionId} API with invalid timestamp the response is discarded by FIU and to validate that check with FIU spoc  if FIU notify about data fetch failure. |  |
| 2024 | Response handling of GET /FI/fetch/{sessionId} API of AA | Verify on responding to GET /FI/fetch/{sessionId} API with invalid FI data object the response is discarded by FIU and to validate that check with FIU spoc  if FIU notify about data fetch failure. |  |
| 2025 | Response handling of GET /FI/fetch/{sessionId} API of AA | Verify on responding to GET /FI/fetch/{sessionId} API with invalid keyMaterial object the response is discarded by FIU and to validate that check with FIU spoc  if FIU notify about data fetch failure. |  |
| 2026 | Response handling of GET /FI/fetch/{sessionId} API of AA | Verify on responding to GET /FI/fetch/{sessionId} API with invalid JWS Signature the response is discarded by FIU and to validate that check with FIU spoc  if FIU notify about data fetch failure. |  |
| 2027 | POST /FI/Notification API with invalid JWS Signature | Verify that on making valid POST /FI/Notification with invalid JWS signature error response is received | Http status code should be 400  Error code should be SignatureDoesNotMatch |
| 2028 | POST /FI/Notification API with invalid API key | Verify that on making valid POST /FI/Notification with invalid API key error response is received | Http status code should be 401 |
| 2029 | POST /FI/Notification API with API key of alternate AA | Verify that on making valid POST /FI/Notification with API key of alternate AA error response is received | Http status code should be 400  Error code should be InvalidRequest |

